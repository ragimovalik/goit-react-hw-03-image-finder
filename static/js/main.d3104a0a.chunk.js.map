{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","service/ApiService.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/TableScreen/TableScreen.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","API_KEY","baseUrl","fetchOn","query","pageNumber","pageCapacity","url","fetch","then","response","reject","status","console","log","json","totalHits","hits","catch","error","Searchbar","state","inputedText","inputHandler","e","setState","target","value","formSubmitHandler","preventDefault","props","onSubmit","className","styles","this","SearchForm","type","SearchForm__button","SearchForm__input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","lilPicUrl","bigPicUrl","tags","src","alt","title","data","ImageGallery","collection","onClick","map","picture","Button","btnText","defaultProps","useStyles","createUseStyles","Spinner__box","position","display","margin","width","height","textAlign","top","Spinner","visible","classes","color","timeout","Screen__box","padding","fontSize","fontWeight","TableScreen","message","Modal","onClose","Overlay","CloseBtn","App","gridTemplateColumns","gridGap","paddingBottom","useState","setCollection","setQuery","setPageNumber","totalPictures","setTotalPictures","isBtnVisible","setIsBtnVisible","isSpinnerVisible","setIsSpinnerVisible","urlForModal","setUrlForModal","setError","useEffect","galleryHandler","length","prevCollection","webformatURL","largeImageURL","finally","window","scrollBy","document","documentElement","clientHeight","screenMessage","event","nodeName","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qBAAqB,SAAW,0B,mBCA3FD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,iBAAmB,yC,mBCAvFD,EAAOC,QAAU,CAAC,wBAA0B,oD,mBCA5CD,EAAOC,QAAU,CAAC,OAAS,yB,sHCDrBC,EAAU,qCACVC,EAAU,2BAkBDC,EAhBC,SAACC,EAAOC,GAAmC,IAAvBC,EAAsB,uDAAP,GAC3CC,EAAG,UAAML,EAAN,eAAoBE,EAApB,iBAAkCC,EAAlC,gBAAoDJ,EAApD,6DAAgHK,EAAhH,KAET,OAAOE,MAAMD,GACVE,MAAK,SAACC,EAAUC,GACf,OAAwB,MAApBD,EAASE,YACXC,QAAQC,IAAI,qCAEAJ,EAASK,UAExBN,MAAK,YAA0B,IAAvBO,EAAsB,EAAtBA,UACP,MAAO,CAAEC,KADoB,EAAXA,KACHD,gBAEhBE,OAAM,SAAAC,GAAK,OAAIN,QAAQC,IAAI,2C,sDCwBjBM,E,4MApCbC,MAAQ,CAAEC,YAAa,I,EAEvBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,YAAaE,EAAEE,OAAOC,S,EAGxCC,kBAAoB,SAAAJ,GAClBA,EAAEK,iBAEF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,aAC/B,EAAKG,SAAS,CAAEH,YAAa,M,4CAG/B,WACE,OACE,wBAAQU,UAAWC,IAAOb,UAA1B,SACE,uBAAMW,SAAUG,KAAKN,kBAAmBI,UAAWC,IAAOE,WAA1D,UACE,wBAAQC,KAAK,SAASJ,UAAWC,IAAOI,mBAAxC,SACE,sBAAML,UAAWC,IAAO,4BAAxB,sBAGF,uBACED,UAAWC,IAAOK,kBAClBF,KAAK,OACLG,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZd,MAAOO,KAAKb,MAAMC,YAClBoB,SAAUR,KAAKX,wB,GA7BHoB,a,iBCaTC,EAdU,SAAC,GAAuC,EAArCC,GAAsC,IAAlCC,EAAiC,EAAjCA,UAAWC,EAAsB,EAAtBA,UAAWC,EAAW,EAAXA,KACpD,OACE,mCACE,qBACEhB,UAAWC,IAAM,wBACjBgB,IAAKH,EACLI,IAAKF,EACLG,MAAOH,EACPI,KAAML,O,iBCcCM,EArBM,SAAC,GAA6B,IAA3BC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAClC,OACE,oBAAIvB,UAAWC,IAAOoB,aAAtB,SACGC,EAAWE,KAAI,SAAAC,GAAO,OACrB,oBAEEF,QAAS,kBAAMA,EAAQE,EAAQV,YAC/Bf,UAAWC,IAAOW,iBAHpB,SAKE,cAAC,EAAD,CACEC,GAAIY,EAAQZ,GACZC,UAAWW,EAAQX,UACnBC,UAAWU,EAAQV,UACnBC,KAAMS,EAAQT,QARXS,EAAQZ,U,iBCLjBa,EAAS,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASJ,EAAc,EAAdA,QACzB,OACE,wBAAQvB,UAAWC,IAAOyB,OAAQH,QAASA,EAA3C,SACGI,KAKPD,EAAOE,aAAe,CACpBD,QAAS,WACTJ,QAAS,kBAAM,OAQFG,Q,iBCjBTG,EAAYC,YAAgB,CAChCC,aAAc,CACZC,SAAU,WACVC,QAAS,QACTC,OAAQ,SACRC,MAAO,GACPC,OAAQ,GACRC,UAAW,SACXC,IAAK,OAOHC,EAAU,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACXC,EAAUZ,IAEhB,OACE,qBAAK7B,UAAWyC,EAAQV,aAAxB,SACE,cAAC,IAAD,CAEE3B,KAAK,YACLsC,MAAM,UACNN,OAAQ,GACRD,MAAO,GACPQ,QAAS,IACTH,QAASA,OAMjBD,EAAQX,aAAe,CACrBY,SAAS,GAOID,QC1CTV,EAAYC,YAAgB,CAChCc,YAAa,CACXX,QAAS,QACTC,OAAQ,SACRW,QAAS,WAETC,SAAU,SACVC,WAAY,IACZL,MAAO,aAILM,EAAc,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACfR,EAAUZ,IAEhB,OAAO,mBAAG7B,UAAWyC,EAAQG,YAAtB,SAAoCK,KAG7CD,EAAYpB,aAAe,CACzBqB,QAAS,MAOID,Q,iBCZAE,EAfD,SAAC,GAAsB,IAApB3E,EAAmB,EAAnBA,IAAK4E,EAAc,EAAdA,QACpB,OACE,sBAAK5B,QAAS4B,EAAStC,GAAG,WAAWb,UAAWC,IAAOmD,QAAvD,UACE,qBAAKpD,UAAWC,IAAOiD,MAAvB,SACE,qBAAKjC,IAAK1C,EAAK2C,IAAI,QAErB,wBACEK,QAAS4B,EACT/C,KAAK,SACLJ,UAAWC,IAAOoD,eCDpBxB,EAAYC,YAAgB,CAChCwB,IAAK,CACHrB,QAAS,OACTsB,oBAAqB,MACrBC,QAAS,GACTC,cAAe,MAgGJH,EA5FH,WAAO,IAAD,EACoBI,mBAAS,IAD7B,mBACTpC,EADS,KACGqC,EADH,OAEUD,mBAAS,IAFnB,mBAETtF,EAFS,KAEFwF,EAFE,OAGkBF,mBAAS,GAH3B,mBAGXrF,EAHW,KAGCwF,EAHD,OAI0BH,qBAJ1B,mBAITI,EAJS,KAIMC,EAJN,OAKwBL,oBAAS,GALjC,mBAKTM,EALS,KAKKC,EALL,OAMgCP,oBAAS,GANzC,mBAMTQ,EANS,KAMSC,EANT,OAOsBT,mBAAS,IAP/B,mBAOTU,EAPS,KAOIC,EAPJ,OAQUX,mBAAS,IARnB,mBAQTvE,EARS,KAQFmF,EARE,KAUV7B,EAAUZ,IAWhB0C,qBAAU,WACHnG,GACLoG,MACC,CAACpG,IAEJ,IAAMoG,EAAiB,WACrBrG,EAAQC,EAAOC,GACZI,MAAK,YAA0B,IAAvBO,EAAsB,EAAtBA,UAAWC,EAAW,EAAXA,KACF,IAAhBA,EAAKwF,QAAgBH,EAAS,yCAE9BP,EAAiB/E,GAEjB2E,GAAc,SAAAe,GAAc,4BACvBA,GADuB,YAEvBzF,EAAKuC,KAAI,SAAAC,GAAO,MAAK,CACtBZ,GAAIY,EAAQZ,GACZC,UAAWW,EAAQkD,aACnB5D,UAAWU,EAAQmD,cACnB5D,KAAMS,EAAQT,iBAInB9B,OAAM,SAAAC,GAAK,OAAImF,EAASnF,EAAM8D,YAC9B4B,SAAQ,kBAAMV,GAAoB,OAUvCI,qBAAU,WACRjD,EAAWmD,OAAS,IAClBK,OAAOC,SAAS,EAAGC,SAASC,gBAAgBC,aAAe,KAE7D5D,EAAWmD,OAASpG,IAAe,GAC/B4F,GAAgB,GAChBA,GAAgB,KACnB,CAAC3C,IAEJ,IAAM6D,EAAgBrB,EAAa,UAC5BA,EAD4B,wBAE/B3E,EAQJ,OACE,sBAAKa,UAAWyC,EAAQa,IAAxB,UACE,cAAC,EAAD,CAAWvD,SA/DY,SAAAT,GACzBuE,EAAc,GACdD,EAAStE,GACTqE,EAAc,IACdM,GAAgB,GAChBE,GAAoB,GACpBE,EAAe,OA0Db,cAAC,EAAD,CAAapB,QAASkC,IAErB7D,EACC,cAAC,EAAD,CAAcA,WAAYA,EAAYC,QAZhB,SAAAhD,GAAG,OAAI8F,EAAe9F,MAa1C,KAEH2F,GAAoB,cAAC,EAAD,IAEpBF,GACC,cAAC,EAAD,CAAQrC,QAAS,YAAaJ,QAtCb,WACrBsC,IAAgBxF,GAChB8F,GAAoB,GAEpBK,OAoCGJ,GAAe,cAAC,EAAD,CAAO7F,IAAK6F,EAAajB,QAlBnB,SAAAiC,GAAK,OACR,aAApBA,EAAM1F,OAAOmB,IAA+C,WAA1BuE,EAAM1F,OAAO2F,WAChDhB,EAAe,W,YCpFnBiB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFR,SAASS,eAAe,U,kBCT1B1H,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,mBAAqB,sCAAsC,2BAA2B,4CAA4C,kBAAoB,wC","file":"static/js/main.d3104a0a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3Ukhh\",\"Modal\":\"Modal_Modal__1_S31\",\"CloseBtn\":\"Modal_CloseBtn__2GTrG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3niBQ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__IV_5v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__2PnP_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3S4cZ\"};","const API_KEY = '20179181-b536d7b2e359c0533f6f56cb7';\nconst baseUrl = 'https://pixabay.com/api/';\n\nconst fetchOn = (query, pageNumber, pageCapacity = 12) => {\n  const url = `${baseUrl}/?q=${query}&page=${pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${pageCapacity} `;\n\n  return fetch(url)\n    .then((response, reject) => {\n      if (response.status !== 200) {\n        console.log('Server response by non 200 status');\n        return;\n      } else return response.json();\n    })\n    .then(({ totalHits, hits }) => {\n      return { hits, totalHits };\n    })\n    .catch(error => console.log('Server Error. Something gone wrong.'));\n};\n\nexport default fetchOn;\n","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = { inputedText: '' };\n\n  inputHandler = e => {\n    this.setState({ inputedText: e.target.value });\n  };\n\n  formSubmitHandler = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.inputedText);\n    this.setState({ inputedText: '' });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.formSubmitHandler} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchForm__button}>\n            <span className={styles['SearchForm__button-label']}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.inputedText}\n            onChange={this.inputHandler}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ id, lilPicUrl, bigPicUrl, tags }) => {\n  return (\n    <>\n      <img\n        className={styles['ImageGalleryItem__image']}\n        src={lilPicUrl}\n        alt={tags}\n        title={tags}\n        data={bigPicUrl}\n      />\n    </>\n  );\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ collection, onClick }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {collection.map(picture => (\n        <li\n          key={picture.id}\n          onClick={() => onClick(picture.bigPicUrl)}\n          className={styles.ImageGalleryItem}\n        >\n          <ImageGalleryItem\n            id={picture.id}\n            lilPicUrl={picture.lilPicUrl}\n            bigPicUrl={picture.bigPicUrl}\n            tags={picture.tags}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ btnText, onClick }) => {\n  return (\n    <button className={styles.Button} onClick={onClick}>\n      {btnText}\n    </button>\n  );\n};\n\nButton.defaultProps = {\n  btnText: 'click me',\n  onClick: () => null,\n};\n\nButton.propTypes = {\n  btnText: PropTypes.string,\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n\n/*\nwindow.scrollTo({\n  top: document.documentElement.scrollHeight,\n  behavior: 'smooth',\n});\n*/\n","import Loader from 'react-loader-spinner';\nimport { createUseStyles } from 'react-jss';\nimport PropTypes from 'prop-types';\n\nconst useStyles = createUseStyles({\n  Spinner__box: {\n    position: 'relative',\n    display: 'block',\n    margin: '0 auto',\n    width: 60,\n    height: 60,\n    textAlign: 'center',\n    top: '0',\n  },\n  //   Spinner: {\n  //     position: 'absolute',\n  //   },\n});\n\nconst Spinner = ({ visible }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.Spinner__box}>\n      <Loader\n        // className={classes.Spinner}\n        type=\"ThreeDots\"\n        color=\"#303F9F\"\n        height={60}\n        width={60}\n        timeout={5000}\n        visible={visible}\n      />\n    </div>\n  );\n};\n\nSpinner.defaultProps = {\n  visible: true,\n};\n\nSpinner.propTypes = {\n  visible: PropTypes.bool,\n};\n\nexport default Spinner;\n","import PropTypes from 'prop-types';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  Screen__box: {\n    display: 'block',\n    margin: '0 auto',\n    padding: '5px 10px',\n\n    fontSize: '1.2rem',\n    fontWeight: 500,\n    color: '#3f51b5',\n  },\n});\n\nconst TableScreen = ({ message }) => {\n  const classes = useStyles();\n\n  return <p className={classes.Screen__box}>{message}</p>;\n};\n\nTableScreen.defaultProps = {\n  message: ':)',\n};\n\nTableScreen.propTypes = {\n  message: PropTypes.string,\n};\n\nexport default TableScreen;\n","import styles from './Modal.module.css';\n\nconst Modal = ({ url, onClose }) => {\n  return (\n    <div onClick={onClose} id=\"backdrop\" className={styles.Overlay}>\n      <div className={styles.Modal}>\n        <img src={url} alt=\" \" />\n      </div>\n      <button\n        onClick={onClose}\n        type=\"button\"\n        className={styles.CloseBtn}\n      ></button>\n    </div>\n  );\n};\n\nexport default Modal;\n\n/*\n        <button\n          type=\"button\"\n          class=\"lightbox__button\"\n          data-action=\"close-lightbox\"\n        ></button>\n*/\n\n/*\nПри клике по элементу галереи должно открываться модальное окно с \nтемным оверлеем и отображаться большая версия изображения. \nМодальное окно должно закрываться по нажатию клавиши ESC или по \nклику на оверлее.\n\nВнешний вид похож на функционал этого VanillaJS-плагина, \nтолько вместо белого модального окна рендерится изображение \n(в примере нажми Run). Анимацию делать не нужно!\n\n*/\n","import { useState, useEffect } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport fetchOn from './service/ApiService';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Spinner from './components/Loader';\nimport TableScreen from './components/TableScreen';\nimport Modal from './components/Modal';\n\nconst useStyles = createUseStyles({\n  App: {\n    display: 'grid',\n    gridTemplateColumns: '1fr',\n    gridGap: 16,\n    paddingBottom: 24,\n  },\n});\n\nconst App = () => {\n  const [collection, setCollection] = useState([]);\n  const [query, setQuery] = useState('');\n  let [pageNumber, setPageNumber] = useState(1);\n  const [totalPictures, setTotalPictures] = useState();\n  const [isBtnVisible, setIsBtnVisible] = useState(false);\n  const [isSpinnerVisible, setIsSpinnerVisible] = useState(false);\n  const [urlForModal, setUrlForModal] = useState('');\n  const [error, setError] = useState('');\n\n  const classes = useStyles();\n\n  const inputSubmitHandler = inputedText => {\n    setPageNumber(1);\n    setQuery(inputedText);\n    setCollection([]);\n    setIsBtnVisible(false);\n    setIsSpinnerVisible(true);\n    setUrlForModal('');\n  };\n\n  useEffect(() => {\n    if (!query) return;\n    galleryHandler();\n  }, [query]);\n\n  const galleryHandler = () => {\n    fetchOn(query, pageNumber)\n      .then(({ totalHits, hits }) => {\n        hits.length === 0 && setError('Please check your query and try again');\n\n        setTotalPictures(totalHits);\n\n        setCollection(prevCollection => [\n          ...prevCollection,\n          ...hits.map(picture => ({\n            id: picture.id,\n            lilPicUrl: picture.webformatURL,\n            bigPicUrl: picture.largeImageURL,\n            tags: picture.tags,\n          })),\n        ]);\n      })\n      .catch(error => setError(error.message))\n      .finally(() => setIsSpinnerVisible(false));\n  };\n\n  const getNewPictures = () => {\n    setPageNumber(++pageNumber);\n    setIsSpinnerVisible(true);\n\n    galleryHandler();\n  };\n\n  useEffect(() => {\n    collection.length > 12 &&\n      window.scrollBy(0, document.documentElement.clientHeight - 140);\n\n    collection.length / pageNumber === 12\n      ? setIsBtnVisible(true)\n      : setIsBtnVisible(false);\n  }, [collection]);\n\n  const screenMessage = totalPictures\n    ? `${totalPictures} images in the album`\n    : error;\n\n  const clickOnImageHandler = url => setUrlForModal(url);\n\n  const modalCloseHandler = event =>\n    (event.target.id === 'backdrop' || event.target.nodeName === 'BUTTON') &&\n    setUrlForModal('');\n\n  return (\n    <div className={classes.App}>\n      <Searchbar onSubmit={inputSubmitHandler} />\n      <TableScreen message={screenMessage} />\n\n      {collection ? (\n        <ImageGallery collection={collection} onClick={clickOnImageHandler} />\n      ) : null}\n\n      {isSpinnerVisible && <Spinner />}\n\n      {isBtnVisible && (\n        <Button btnText={'load more'} onClick={getNewPictures} />\n      )}\n      {urlForModal && <Modal url={urlForModal} onClose={modalCloseHandler} />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport 'modern-normalize';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1RvEL\",\"SearchForm\":\"Searchbar_SearchForm__3DYmi\",\"SearchForm__button\":\"Searchbar_SearchForm__button__3u9Mu\",\"SearchForm__button-label\":\"Searchbar_SearchForm__button-label__Kzg30\",\"SearchForm__input\":\"Searchbar_SearchForm__input__319bA\"};"],"sourceRoot":""}