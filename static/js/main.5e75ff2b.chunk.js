(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3Ukhh",Modal:"Modal_Modal__1_S31",CloseBtn:"Modal_CloseBtn__2GTrG"}},15:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3niBQ",ImageGalleryItem:"ImageGallery_ImageGalleryItem__IV_5v"}},19:function(e,t,a){e.exports={ImageGalleryItem__image:"ImageGalleryItem_ImageGalleryItem__image__2PnP_"}},20:function(e,t,a){e.exports={Button:"Button_Button__3S4cZ"}},54:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(16),o=a.n(r),i=a(9),l=a(3),s=a(4),u="20179181-b536d7b2e359c0533f6f56cb7",b="https://pixabay.com/api/",d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,c="".concat(b,"/?q=").concat(e,"&page=").concat(t,"&key=").concat(u,"&image_type=photo&orientation=horizontal&per_page=").concat(a," ");return fetch(c).then((function(e,t){return 200!==e.status?void console.log("Server response by non 200 status"):e.json()})).then((function(e){var t=e.totalHits;return{hits:e.hits,totalHits:t}})).catch((function(e){return console.log("Server Error. Something gone wrong.")}))},m=a(18),f=a(5),j=a(23),h=a(22),p=a(6),g=a.n(p),_=a(1),O=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={inputedText:""},e.inputHandler=function(t){e.setState({inputedText:t.target.value})},e.formSubmitHandler=function(t){t.preventDefault(),e.props.onSubmit(e.state.inputedText),e.setState({inputedText:""})},e}return Object(f.a)(a,[{key:"render",value:function(){return Object(_.jsx)("header",{className:g.a.Searchbar,children:Object(_.jsxs)("form",{onSubmit:this.formSubmitHandler,className:g.a.SearchForm,children:[Object(_.jsx)("button",{type:"submit",className:g.a.SearchForm__button,children:Object(_.jsx)("span",{className:g.a["SearchForm__button-label"],children:"Search"})}),Object(_.jsx)("input",{className:g.a.SearchForm__input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.inputedText,onChange:this.inputHandler})]})})}}]),a}(c.Component),x=a(19),S=a.n(x),v=function(e){e.id;var t=e.lilPicUrl,a=e.bigPicUrl,c=e.tags;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("img",{className:S.a.ImageGalleryItem__image,src:t,alt:c,title:c,data:a})})},y=a(15),k=a.n(y),I=function(e){var t=e.collection,a=e.onClick;return Object(_.jsx)("ul",{className:k.a.ImageGallery,children:t.map((function(e){return Object(_.jsx)("li",{onClick:function(){return a(e.bigPicUrl)},className:k.a.ImageGalleryItem,children:Object(_.jsx)(v,{id:e.id,lilPicUrl:e.lilPicUrl,bigPicUrl:e.bigPicUrl,tags:e.tags})},e.id)}))})};I.defaultProps={collection:[{id:3295891,lilPicUrl:"https://pixabay.com/get/gb770f66d952c702d775af8030f534a313d6d926a64b10a982e3370d96f644aac37d1b4936df2e44f505663e64e1bc4effccf8b758c6344b2dae4ace19f28e4c6_640.jpg",bigPicUrl:"https://pixabay.com/get/g2eef296fd61c640231dd5a2882f825f73bbd55e2840b18d7f5b56b6e4e478815062ddc2c65376c107b005b8204f0cc75e3c998849527c91589c6d9ed0e64405d_1280.jpg",tags:"maki, curious, halfaap"}]};var P=I,C=a(20),w=a.n(C),N=function(e){var t=e.btnText,a=e.onClick;return Object(_.jsx)("button",{className:w.a.Button,onClick:a,children:t})};N.defaultProps={btnText:"click me",onClick:function(){return null}};var F=N,G=a(21),U=a.n(G),T=Object(s.a)({Spinner__box:{position:"relative",display:"block",margin:"0 auto",width:60,height:60,textAlign:"center",top:"0"}}),B=function(e){var t=e.visible,a=T();return Object(_.jsx)("div",{className:a.Spinner__box,children:Object(_.jsx)(U.a,{type:"ThreeDots",color:"#303F9F",height:60,width:60,timeout:5e3,visible:t})})};B.defaultProps={visible:!0};var E=B,H=Object(s.a)({Screen__box:{display:"block",margin:"0 auto",padding:"5px 10px",fontSize:"1.2rem",fontWeight:500,color:"#3f51b5"}}),M=function(e){var t=e.message,a=H();return Object(_.jsx)("p",{className:a.Screen__box,children:t})};M.defaultProps={message:":)"};var A=M,L=a(12),z=a.n(L),D=function(e){var t=e.url,a=e.onClose;return Object(c.useEffect)((function(){return window.addEventListener("keydown",a),function(){return window.removeEventListener("keydown",a)}}),[]),Object(_.jsxs)("div",{onClick:a,id:"backdrop",className:z.a.Overlay,children:[Object(_.jsx)("div",{className:z.a.Modal,children:Object(_.jsx)("img",{src:t,alt:" "})}),Object(_.jsx)("button",{onClick:a,type:"button",className:z.a.CloseBtn})]})};D.defaultProps={url:"https://pixabay.com/get/g2eef296fd61c640231dd5a2882f825f73bbd55e2840b18d7f5b56b6e4e478815062ddc2c65376c107b005b8204f0cc75e3c998849527c91589c6d9ed0e64405d_1280.jpg"};var R=D,q=Object(s.a)({App:{display:"grid",gridTemplateColumns:"1fr",gridGap:16,paddingBottom:24}}),J=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),o=Object(l.a)(r,2),s=o[0],u=o[1],b=Object(c.useState)(1),m=Object(l.a)(b,2),f=m[0],j=m[1],h=Object(c.useState)(),p=Object(l.a)(h,2),g=p[0],x=p[1],S=Object(c.useState)(!1),v=Object(l.a)(S,2),y=v[0],k=v[1],I=Object(c.useState)(!1),C=Object(l.a)(I,2),w=C[0],N=C[1],G=Object(c.useState)(""),U=Object(l.a)(G,2),T=U[0],B=U[1],H=Object(c.useState)(""),M=Object(l.a)(H,2),L=M[0],z=M[1],D=q();Object(c.useEffect)((function(){s&&J()}),[s]);var J=function(){d(s,f).then((function(e){var t=e.totalHits,a=e.hits;0===a.length&&z("Please check your query and try again"),x(t),n((function(e){return[].concat(Object(i.a)(e),Object(i.a)(a.map((function(e){return{id:e.id,lilPicUrl:e.webformatURL,bigPicUrl:e.largeImageURL,tags:e.tags}}))))}))})).catch((function(e){return z(e.message)})).finally((function(){return N(!1)}))};Object(c.useEffect)((function(){a.length>12&&window.scrollBy(0,document.documentElement.clientHeight-140),a.length/f===12?k(!0):k(!1)}),[a]);var K=g?"".concat(g," images in the album"):L;return Object(_.jsxs)("div",{className:D.App,children:[Object(_.jsx)(O,{onSubmit:function(e){j(1),u(e),n([]),k(!1),N(!0),B("")}}),Object(_.jsx)(A,{message:K}),a?Object(_.jsx)(P,{collection:a,onClick:function(e){return B(e)}}):null,w&&Object(_.jsx)(E,{}),y&&Object(_.jsx)(F,{btnText:"load more",onClick:function(){j(++f),N(!0),J()}}),T&&Object(_.jsx)(R,{url:T,onClose:function(e){var t=e.target,a=e.code;("backdrop"===t.id||"BUTTON"===t.nodeName)&&B(""),"Escape"===a&&"Escape"===a&&B("")}})]})};a(54),a(55);o.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(J,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1RvEL",SearchForm:"Searchbar_SearchForm__3DYmi",SearchForm__button:"Searchbar_SearchForm__button__3u9Mu","SearchForm__button-label":"Searchbar_SearchForm__button-label__Kzg30",SearchForm__input:"Searchbar_SearchForm__input__319bA"}}},[[56,1,2]]]);
//# sourceMappingURL=main.5e75ff2b.chunk.js.map